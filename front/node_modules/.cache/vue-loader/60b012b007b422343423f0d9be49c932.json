{"remainingRequest":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\src\\App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\src\\App.vue","mtime":1613754031969},{"path":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQojaGVhZGVyIHsNCiAgbWFyZ2luLWJvdHRvbTogMiU7DQp9DQojY2FyZHMgew0KICBtYXJnaW4tbGVmdDogNSU7DQogIG1hcmdpbi1yaWdodDogNSU7DQogIG1hcmdpbi1ib3R0b206IDIlOw0KfQ0KI3BlZGlkb3Mgew0KICBtYXJnaW4tYm90dG9tOiAyJTsNCn0NCg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"header\">\r\n      <BarraNavegacao @Produtos=\"ShowProdutos\" @Pedidos=\"ShowPedidos\" @Carrinho=\"ShowCarrinho\" @CadProd=\"ShowCadProd\"/>\r\n    </div>\r\n    <div v-if=\"flagCadProd === 1\">\r\n      <Cadastro @AtualizaLista=\"AtualizarLista\"/>\r\n    </div>\r\n    <div v-if=\"flagProduto === 1\">\r\n      <div id=\"cards\" class=\"columns\" v-for=\"(produto) in produtos\" :key=\"produto._id\">\r\n        <CardProduto :nome=\"produto.nome\" :categoria=\"produto.categoria\" :descricao=\"produto.descricao\" :valor=\"produto.preco\" :desconto=\"produto.desconto\" @ComprarProduto=\"ComprarProduto($event)\"/>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"flagPedidos === 1\">\r\n      <div id=\"pedidos\" class=\"columns\" v-for=\"(pedido) in BDpedidos\" :key=\"pedido._id\">\r\n        <CardPedidos :id=\"pedido._id\" :numpedido=\"pedido.numped\" :produtos=\"pedido.produtos\" :totprodutos=\"pedido.totproduto\" :totdescontos=\"pedido.totdescont\" :taxaentrega=\"pedido.taxentrega\" :totpedido=\"pedido.totpedido\" @DeletarPedido=\"DeletarPedido($event)\"/>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"flagCarrinho === 1\">\r\n      <Carrinho @FinalizarCarrinho=\"FinalizarCompra\" :produtos=\"pedidos.produtos\" :totprodutos=\"pedidos.totprodutos\" :totdescontos=\"pedidos.totdescontos\" :taxaentrega=\"pedidos.taxaentrega\" :totpedido=\"pedidos.totpedido\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BarraNavegacao from './components/BarraNavegacao.vue'\r\nimport Cadastro from './components/Cadastro.vue'\r\nimport CardProduto from './components/CardProduto.vue'\r\nimport axios from 'axios'\r\nimport Carrinho from './components/Carrinho.vue'\r\nimport Servico from './servico'\r\nimport CardPedidos from './components/CardPedidos.vue'\r\n\r\nexport default {\r\n  name: 'App',\r\n  data(){\r\n      return {\r\n      produtos: [],\r\n      BDpedidos: [],\r\n      pedidos: {\r\n        numPedido: Date.now(),\r\n        produtos: [],\r\n        totprodutos: 0,\r\n        totdescontos: 0,\r\n        taxaentrega: \"0\",\r\n        totpedido: 0\r\n      },\r\n      flagProduto: 0,\r\n      flagPedidos: 0,\r\n      flagCarrinho: 0,\r\n      flagCadProd: 0,\r\n      error: ''\r\n      }\r\n  },\r\n  created: function(){\r\n            \r\n  },\r\n  components: { \r\n    BarraNavegacao,\r\n    Cadastro,\r\n    CardProduto,\r\n    Carrinho,\r\n    CardPedidos, \r\n  },\r\n  methods: {\r\n    AtualizarLista: function(){\r\n      axios.get(\"http://localhost:3000/api/produtos\").then(res => {\r\n          this.produtos = res.data\r\n      })\r\n    },\r\n    ComprarProduto: function($event){\r\n      this.pedidos.produtos.push($event.nome);\r\n      this.pedidos.totprodutos = Number(this.pedidos.totprodutos) + Number($event.valor);\r\n      this.pedidos.totdescontos = Number(this.pedidos.totdescontos) + Number($event.desconto);\r\n      this.pedidos.totpedido = Number(this.pedidos.totprodutos) - Number(this.pedidos.totdescontos);\r\n      this.pedidos.taxaentrega = (Number(this.pedidos.totpedido) * 0.03).toFixed(2);\r\n      this.pedidos.totpedido = Number(this.pedidos.totpedido) + Number(this.pedidos.taxaentrega);\r\n    },\r\n    FinalizarCompra: function(){\r\n      Servico.insertPedido(\r\n        this.pedidos.numPedido, \r\n        this.pedidos.produtos,  \r\n        this.pedidos.totdescontos, \r\n        this.pedidos.totprodutos,\r\n        this.pedidos.taxaentrega, \r\n        this.pedidos.totpedido);\r\n\r\n      this.pedidos.produtos = [];\r\n      this.pedidos.totprodutos = 0;\r\n      this.pedidos.totdescontos = 0;\r\n      this.pedidos.taxaentrega = \"0\";\r\n      this.pedidos.totpedido = 0;\r\n\r\n      alert(\"Pedido enviado para o servidor\");\r\n    },\r\n    DeletarPedido: function($event){\r\n      Servico.deletePedido(String($event.id));\r\n\r\n      axios.get(\"http://localhost:3000/api/pedidos\").then(res => {\r\n          this.BDpedidos = res.data\r\n      });\r\n\r\n      alert(\"Pedido de deleção enviada para o servidor\");\r\n    },\r\n    ShowProdutos: function(){\r\n      axios.get(\"http://localhost:3000/api/produtos\").then(res => {\r\n          this.produtos = res.data\r\n      })\r\n      this.flagProduto = 1;\r\n      this.flagPedidos = 0;\r\n      this.flagCarrinho = 0;\r\n      this.flagCadProd = 0;\r\n    },\r\n    ShowPedidos: function(){\r\n      axios.get(\"http://localhost:3000/api/pedidos\").then(res => {\r\n          this.BDpedidos = res.data\r\n      })\r\n      this.flagProduto = 0;\r\n      this.flagPedidos = 1;\r\n      this.flagCarrinho = 0;\r\n      this.flagCadProd = 0;\r\n    },\r\n    ShowCarrinho: function(){\r\n      this.flagProduto = 0;\r\n      this.flagPedidos = 0;\r\n      this.flagCarrinho = 1;\r\n      this.flagCadProd = 0;\r\n    },\r\n    ShowCadProd: function(){\r\n      this.flagProduto = 0;\r\n      this.flagPedidos = 0;\r\n      this.flagCarrinho = 0;\r\n      this.flagCadProd = 1;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#header {\r\n  margin-bottom: 2%;\r\n}\r\n#cards {\r\n  margin-left: 5%;\r\n  margin-right: 5%;\r\n  margin-bottom: 2%;\r\n}\r\n#pedidos {\r\n  margin-bottom: 2%;\r\n}\r\n</style>\r\n"]}]}