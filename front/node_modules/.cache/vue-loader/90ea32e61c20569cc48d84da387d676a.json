{"remainingRequest":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\src\\App.vue","mtime":1613706965765},{"path":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\epile\\Desktop\\ProdPed\\CadastroProdutosPedidos\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYXJyYU5hdmVnYWNhbyBmcm9tICcuL2NvbXBvbmVudHMvQmFycmFOYXZlZ2FjYW8udnVlJwppbXBvcnQgQ2FkYXN0cm8gZnJvbSAnLi9jb21wb25lbnRzL0NhZGFzdHJvLnZ1ZScKaW1wb3J0IENhcmRQcm9kdXRvIGZyb20gJy4vY29tcG9uZW50cy9DYXJkUHJvZHV0by52dWUnCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IENhcnJpbmhvIGZyb20gJy4vY29tcG9uZW50cy9DYXJyaW5oby52dWUnCmltcG9ydCBTZXJ2aWNvIGZyb20gJy4vc2VydmljbycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBkYXRhKCl7CiAgICAgIHJldHVybiB7CiAgICAgIHByb2R1dG9zOiBbXSwKICAgICAgcGVkaWRvczogewogICAgICAgIG51bVBlZGlkbzogRGF0ZS5ub3coKSwKICAgICAgICBwcm9kdXRvczogW10sCiAgICAgICAgdG90cHJvZHV0b3M6IDAsCiAgICAgICAgdG90ZGVzY29udG9zOiAwLAogICAgICAgIHRheGFlbnRyZWdhOiAwLAogICAgICAgIHRvdHBlZGlkbzogMAogICAgICB9LAogICAgICBlcnJvcjogJycKICAgICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24oKXsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Byb2R1dG9zIikudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5wcm9kdXRvcyA9IHJlcy5kYXRhCiAgICAgIH0pCiAgfSwKICBjb21wb25lbnRzOiB7IAogICAgQmFycmFOYXZlZ2FjYW8sCiAgICBDYWRhc3RybywKICAgIENhcmRQcm9kdXRvLAogICAgQ2FycmluaG8sIAogIH0sCiAgbWV0aG9kczogewogICAgQXR1YWxpemFyTGlzdGE6IGZ1bmN0aW9uKCl7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wcm9kdXRvcyIpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMucHJvZHV0b3MgPSByZXMuZGF0YQogICAgICB9KQogICAgfSwKICAgIENvbXByYXJQcm9kdXRvOiBmdW5jdGlvbigkZXZlbnQpewogICAgICB0aGlzLnBlZGlkb3MucHJvZHV0b3MucHVzaCgkZXZlbnQubm9tZSk7CiAgICAgIHRoaXMucGVkaWRvcy50b3Rwcm9kdXRvcyA9IE51bWJlcih0aGlzLnBlZGlkb3MudG90cHJvZHV0b3MpICsgTnVtYmVyKCRldmVudC52YWxvcik7CiAgICAgIHRoaXMucGVkaWRvcy50b3RkZXNjb250b3MgPSBOdW1iZXIodGhpcy5wZWRpZG9zLnRvdGRlc2NvbnRvcykgKyBOdW1iZXIoJGV2ZW50LmRlc2NvbnRvKTsKICAgICAgdGhpcy5wZWRpZG9zLnRvdHBlZGlkbyA9IE51bWJlcih0aGlzLnBlZGlkb3MudG90cHJvZHV0b3MpIC0gTnVtYmVyKHRoaXMucGVkaWRvcy50b3RkZXNjb250b3MpOwogICAgICB0aGlzLnBlZGlkb3MudGF4YWVudHJlZ2EgPSBOdW1iZXIodGhpcy5wZWRpZG9zLnRvdHBlZGlkbykgKiAwLjAzOwogICAgICB0aGlzLnBlZGlkb3MudG90cGVkaWRvID0gTnVtYmVyKHRoaXMucGVkaWRvcy50b3RwZWRpZG8pICsgTnVtYmVyKHRoaXMucGVkaWRvcy50YXhhZW50cmVnYSk7CiAgICB9LAogICAgRmluYWxpemFyQ29tcHJhOiBmdW5jdGlvbigpewogICAgICBjb25zb2xlLmxvZyh0aGlzLnBlZGlkb3MpCiAgICAgIFNlcnZpY28uaW5zZXJ0UGVkaWRvKAogICAgICAgIHRoaXMucGVkaWRvcy5udW1QZWRpZG8sIAogICAgICAgIHRoaXMucGVkaWRvcy5wcm9kdXRvcywgIAogICAgICAgIHRoaXMucGVkaWRvcy50b3RkZXNjb250b3MsIAogICAgICAgIHRoaXMucGVkaWRvcy50b3Rwcm9kdXRvcywKICAgICAgICB0aGlzLnBlZGlkb3MudGF4YWVudHJlZ2EsIAogICAgICAgIHRoaXMucGVkaWRvcy50b3RwZWRpZG8pOwoKICAgICAgLyphbGVydCgiUGVkaWRvIGVudmlhZG8gcGFyYSBvIHNlcnZpZG9yIik7CgogICAgICB0aGlzLnBlZGlkb3MucHJvZHV0b3MgPSBbXTsKICAgICAgdGhpcy5wZWRpZG9zLnRvdHByb2R1dG9zID0gMDsKICAgICAgdGhpcy5wZWRpZG9zLnRvdGRlc2NvbnRvcyA9IDA7CiAgICAgIHRoaXMucGVkaWRvcy50YXhhZW50cmVnYSA9IDA7CiAgICAgIHRoaXMucGVkaWRvcy50b3RwZWRpZG8gPSAwKi8KICAgIH0KICB9Cn0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div>\n    <div id=\"header\">\n      <BarraNavegacao/>\n    </div>\n    <Cadastro @AtualizaLista=\"AtualizarLista\"/>\n    <Carrinho @FinalizarCarrinho=\"FinalizarCompra\" :produtos=\"pedidos.produtos\" :totprodutos=\"pedidos.totprodutos\" :totdescontos=\"pedidos.totdescontos\" :taxaentrega=\"pedidos.taxaentrega\" :totpedido=\"pedidos.totpedido\"/>\n    <div id=\"cards\" class=\"columns\" v-for=\"(produto) in produtos\" :key=\"produto._id\">\n      <CardProduto :nome=\"produto.nome\" :categoria=\"produto.categoria\" :descricao=\"produto.descricao\" :valor=\"produto.preco\" :desconto=\"produto.desconto\" @ComprarProduto=\"ComprarProduto($event)\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BarraNavegacao from './components/BarraNavegacao.vue'\nimport Cadastro from './components/Cadastro.vue'\nimport CardProduto from './components/CardProduto.vue'\nimport axios from 'axios'\nimport Carrinho from './components/Carrinho.vue'\nimport Servico from './servico'\n\nexport default {\n  name: 'App',\n  data(){\n      return {\n      produtos: [],\n      pedidos: {\n        numPedido: Date.now(),\n        produtos: [],\n        totprodutos: 0,\n        totdescontos: 0,\n        taxaentrega: 0,\n        totpedido: 0\n      },\n      error: ''\n      }\n  },\n  created: function(){\n      axios.get(\"http://localhost:3000/api/produtos\").then(res => {\n          this.produtos = res.data\n      })\n  },\n  components: { \n    BarraNavegacao,\n    Cadastro,\n    CardProduto,\n    Carrinho, \n  },\n  methods: {\n    AtualizarLista: function(){\n      axios.get(\"http://localhost:3000/api/produtos\").then(res => {\n          this.produtos = res.data\n      })\n    },\n    ComprarProduto: function($event){\n      this.pedidos.produtos.push($event.nome);\n      this.pedidos.totprodutos = Number(this.pedidos.totprodutos) + Number($event.valor);\n      this.pedidos.totdescontos = Number(this.pedidos.totdescontos) + Number($event.desconto);\n      this.pedidos.totpedido = Number(this.pedidos.totprodutos) - Number(this.pedidos.totdescontos);\n      this.pedidos.taxaentrega = Number(this.pedidos.totpedido) * 0.03;\n      this.pedidos.totpedido = Number(this.pedidos.totpedido) + Number(this.pedidos.taxaentrega);\n    },\n    FinalizarCompra: function(){\n      console.log(this.pedidos)\n      Servico.insertPedido(\n        this.pedidos.numPedido, \n        this.pedidos.produtos,  \n        this.pedidos.totdescontos, \n        this.pedidos.totprodutos,\n        this.pedidos.taxaentrega, \n        this.pedidos.totpedido);\n\n      /*alert(\"Pedido enviado para o servidor\");\n\n      this.pedidos.produtos = [];\n      this.pedidos.totprodutos = 0;\n      this.pedidos.totdescontos = 0;\n      this.pedidos.taxaentrega = 0;\n      this.pedidos.totpedido = 0*/\n    }\n  }\n}\n</script>\n\n<style>\n#header {\n  margin-bottom: 2%;\n}\n#cards {\n  margin-left: 5%;\n  margin-right: 5%;\n  margin-bottom: 2%;\n}\n</style>\n"]}]}